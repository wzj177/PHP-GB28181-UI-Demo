<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <title>云台控制 · 安防监控</title>
    <style>
        /* ================= 安防主题色（核心变量） ================= */
        :root {
            --bg-main: #0B1220;
            --bg-panel: #0F172A;
            --bg-hover: #162033;
            --bg-active: #1E293B;

            --border-base: #243047;
            --border-light: #2F3C57;

            --text-main: #E5E7EB;
            --text-muted: #9CA3AF;

            --primary: #3B82F6;
            --primary-hover: #2563EB;

            --success: #22C55E;
            --warning: #F59E0B;
            --danger: #EF4444;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            background: var(--bg-main);
            color: var(--text-main);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                "PingFang SC", "Microsoft YaHei", sans-serif;
        }

        /* ================= 页面布局 ================= */
        .page {
            display: grid;
            grid-template-columns: 280px 1fr;
            height: 100vh;
        }

        /* ================= 设备树 ================= */
        .device-panel {
            background: var(--bg-panel);
            border-right: 1px solid var(--border-base);
            padding: 12px;
            overflow-y: auto;
        }

        .tree-group {
            margin-bottom: 14px;
        }

        .device {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px;
            font-size: 13px;
            color: var(--text-main);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .online {
            background: var(--success);
        }

        .offline {
            background: var(--danger);
        }

        .warning {
            background: var(--warning);
        }

        .channel {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 6px 8px 6px 22px;
            font-size: 13px;
            border-radius: 6px;
            cursor: pointer;
        }

        .channel:hover {
            background: var(--bg-hover);
        }

        .channel-left {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ptz-btn {
            font-size: 12px;
            padding: 2px 6px;
            border-radius: 6px;
            border: 1px solid var(--border-light);
            color: var(--primary);
        }

        /* ================= 主区域 ================= */
        .main {
            display: flex;
            flex-direction: column;
            background: #000;
        }

        /* ================= 顶部工具栏 ================= */
        .toolbar {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 8px;
            padding: 8px 12px;
            background: var(--bg-panel);
            border-bottom: 1px solid var(--border-base);
        }

        .layout-btn {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            border: 1px solid var(--border-light);
            background: transparent;
            color: var(--text-main);
        }

        .layout-btn.active {
            background: var(--primary);
            border-color: var(--primary);
        }

        /* ================= 视频网格 ================= */
        .grid {
            flex: 1;
            display: grid;
            gap: 4px;
            padding: 4px;
            background: #000;
        }

        .cell {
            position: relative;
            background: #000;
            border: 1px solid #111;
            cursor: pointer;
        }

        .cell.active {
            outline: 2px solid var(--primary);
            z-index: 1;
        }

        .placeholder {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-size: 13px;
        }

        /* ================= 云台悬浮 ================= */
        .ptz-float {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(15, 23, 42, .9);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 6px 10px;
            font-size: 12px;
            display: none;
        }

        .cell.active .ptz-float {
            display: block;
        }
    </style>
</head>

<body>
    <div class="page">

        <!-- ================= 设备树 ================= -->
        <aside class="device-panel">
            <div class="tree-group">
                <div class="device">
                    <span class="status-dot online"></span>
                    大厅IPC
                </div>
                <div class="channel" onclick="playChannel(this)">
                    <div class="channel-left">
                        <span class="status-dot online"></span>
                        通道1
                    </div>
                    <span class="ptz-btn">云台</span>
                </div>
                <div class="channel" onclick="playChannel(this)">
                    <div class="channel-left">
                        <span class="status-dot warning"></span>
                        通道2
                    </div>
                    <span class="ptz-btn">云台</span>
                </div>
            </div>

            <div class="tree-group">
                <div class="device">
                    <span class="status-dot offline"></span>
                    停车场IPC
                </div>
                <div class="channel">
                    <div class="channel-left">
                        <span class="status-dot offline"></span>
                        通道1
                    </div>
                </div>
            </div>
        </aside>

        <!-- ================= 主区域 ================= -->
        <main class="main">

            <div class="toolbar">
                <button class="layout-btn" onclick="setLayout(event.target)" data-index="1">1</button>
                <button class="layout-btn" onclick="setLayout(event.target)" data-index="4">4</button>
                <button class="layout-btn" onclick="setLayout(event.target)" data-index="6">6</button>
                <button class="layout-btn" onclick="setLayout(event.target)" data-index="9">9</button>
            </div>

            <div id="grid" class="grid"></div>

        </main>
    </div>

    <script>
        const grid = document.getElementById('grid');
        let activeCell = null;

        function setLayout(event) {
            grid.innerHTML = '';
            const n = parseInt(event.dataset.index);
            document.querySelectorAll('.layout-btn').forEach(b => b.classList.remove('active'));
            event.classList.add('active');


            if (n === 1) grid.style.gridTemplate = '1fr / 1fr';
            if (n === 4) grid.style.gridTemplate = '1fr 1fr / 1fr 1fr';
            if (n === 6) {
                grid.style.gridTemplateColumns = '2fr 1fr 1fr';
                grid.style.gridTemplateRows = '1fr 1fr 1fr';
            }
            if (n === 9) grid.style.gridTemplate = 'repeat(3,1fr) / repeat(3,1fr)';

            for (let i = 0; i < n; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.onclick = () => activate(cell);
                if (n === 6) {
                    if (i === 0) {
                        cell.style.gridColumn = '1 / 3';
                        cell.style.gridRow = '1 / 3';
                    } else if (i === 1) {
                        cell.style.gridColumn = '3';
                        cell.style.gridRow = '1';
                    } else if (i === 2) {
                        cell.style.gridColumn = '3';
                        cell.style.gridRow = '2';
                    } else if (i === 3) {
                        cell.style.gridColumn = '1';
                        cell.style.gridRow = '3';
                    } else if (i === 4) {
                        cell.style.gridColumn = '2';
                        cell.style.gridRow = '3';
                    } else if (i === 5) {
                        cell.style.gridColumn = '3';
                        cell.style.gridRow = '3';
                    }
                }
                cell.innerHTML = `
        <div class="placeholder">未播放</div>
        <div class="ptz-float">云台控制</div>
      `;
                grid.appendChild(cell);
                if (i === 0) activate(cell);
            }
        }

        function activate(cell) {
            if (activeCell) activeCell.classList.remove('active');
            activeCell = cell;
            cell.classList.add('active');
        }

        function playChannel(el) {
            if (!activeCell) return;
            activeCell.querySelector('.placeholder').innerText = el.innerText.trim();
        }

        // 默认 1 分屏
        window.onload = () => setLayout(document.querySelector('.layout-btn[data-index="1"]'));
    </script>
</body>

</html>